<?php
namespace fileupload;
class ValidatorResponse
{
    static $valid_payload = null;
    private $valid;
    private $error;
    private function __construct(bool $isValid, array $error)
    {
        $this->valid = $isValid;
        $this->error = $error;
    }

    static function getValidResponse(): ValidatorResponse
    {
        if (ValidatorResponse::$valid_payload == null) {
            ValidatorResponse::$valid_payload = new ValidatorResponse(true, []);
        }
        return ValidatorResponse::$valid_payload;
    }

    static function getErroredResponse(array $error): ValidatorResponse
    {
        return new ValidatorResponse(false, $error);
    }

    function is_valid(): bool
    {
        return $this->valid;
    }

    function get_error(): array
    {
        return empty($this->error) ? null : $this->error;
    }
}
?>
